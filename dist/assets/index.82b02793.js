let kt,te=(async()=>{kt=function(){import("data:text/javascript,").then(async i=>(await i.__tla,i))},function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerpolicy&&(u.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?u.credentials="include":r.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}}(),function(o){function i(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var s=i(o);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return M(e)||_(e,t)||S(e,t)||j()}function M(e){if(Array.isArray(e))return e}function _(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],p=!0,f=!1,w,A;try{for(n=n.call(e);!(p=(w=n.next()).done)&&(a.push(w.value),!(t&&a.length===t));p=!0);}catch(B){f=!0,A=B}finally{try{!p&&n.return!=null&&n.return()}finally{if(f)throw A}}return a}}function S(e,t){if(e){if(typeof e=="string")return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}}function C(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(e,t){var n=g(e,t,"get");return b(e,n)}function l(e,t,n){var a=g(e,t,"set");return m(e,a,n),n}function g(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function b(e,t){return t.get?t.get.call(e):t.value}function m(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function k(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O(e,t,n){k(e,t),t.set(e,n)}var P=function(){function e(t){r(this,e),d(this,"bounceHeight",15),d(this,"contractHeight",12),d(this,"bounceSpeed",52),d(this,"contractSpeed",52),d(this,"shadowAngle",-Math.PI/4),d(this,"elastic",!0),d(this,"exclusive",!1),t&&Object.assign(this,t)}return h(e,[{key:"override",value:function(t){return Object.assign(new e(this),t)}}]),e}(),E=new WeakMap,mt=function(){function e(){r(this,e),O(this,E,{writable:!0,value:[]})}return h(e,[{key:"getBouncingMarkers",value:function(){return c(this,E)}},{key:"addBouncingMarker",value:function(t,n){n||t._bouncingMotion.bouncingOptions.exclusive?this.stopAllBouncingMarkers():this.stopExclusiveMarkerBouncing(),c(this,E).push(t)}},{key:"stopExclusiveMarkerBouncing",value:function(){var t=c(this,E).find(function(n){return n._bouncingMotion.bouncingOptions.exclusive});t&&t.stopBouncing()}},{key:"removeBouncingMarker",value:function(t){var n=c(this,E).indexOf(t);~n&&c(this,E).splice(n,1)}},{key:"stopAllBouncingMarkers",value:function(){for(var t;t=c(this,E).shift();)t.stopBouncing()}}]),e}(),Tt=o.Marker.prototype._setPos,jt=o.Marker.prototype.onAdd,$t=o.Marker.prototype.setIcon,Wt={_bouncingOptions:new P,_orchestration:new mt,setBouncingOptions:function(e){return this._bouncingMotion.updateBouncingOptions(e),this},isBouncing:function(){return this._bouncingMotion.isBouncing},bounce:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this._bouncingMotion.bounce(e);var t=this._bouncingMotion.bouncingOptions.exclusive;return o.Marker.prototype._orchestration.addBouncingMarker(this,t),this},stopBouncing:function(){return this._bouncingMotion.stopBouncing(),o.Marker.prototype._orchestration.removeBouncingMarker(this),this},toggleBouncing:function(){return this._bouncingMotion.isBouncing?this.stopBouncing():this.bounce(),this},isRealMarker:function(){return this.__proto__===o.Marker.prototype},_setPos:function(e){Tt.call(this,e),this.isRealMarker()&&(this._bouncingMotion.position=e,this._bouncingMotion.resetStyles(this))},onAdd:function(e){jt.call(this,e),this.isRealMarker()&&this._bouncingMotion.resetStyles(this)},setIcon:function(e){$t.call(this,e),this.isRealMarker()&&this._icon&&this._bouncingMotion.resetStyles(this)}};function Ht(e,t,n,a){for(var p=Math.round(e+Math.cos(n)*(a*2)),f=Math.round(t+Math.sin(n)*(a*2)),w=Math.abs(p-e),A=e<p?1:-1,B=Math.abs(f-t),z=t<f?1:-1,F=(w>B?w:-B)/2,D,W=[],T=0;W.push([e,t]),T++,T!==a;)D=F,D>-w&&(F-=B,e+=A),D<B&&(F+=w,t+=z);return W}function Ut(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],p=document.createElement("style");p.type="text/css",n==="top"&&a.firstChild?a.insertBefore(p,a.firstChild):a.appendChild(p),p.styleSheet?p.styleSheet.cssText=e:p.appendChild(document.createTextNode(e))}}var zt=`@keyframes l-smooth-marker-bouncing-move {
    from {
        transform: translate(var(--pos-x), var(--pos-y))
    }
    to {
        transform: translate(var(--pos-x-jump, var(--pos-x)), var(--pos-y-jump))
    }
}

@keyframes l-smooth-marker-bouncing-contract {
    from {
        transform: translate(var(--pos-x), var(--pos-y))
    }
    to {
        transform: translate(var(--pos-x), var(--pos-y-contract)) scaleY(var(--scale-contract))
    }
}

.bouncing {
    animation-name: l-smooth-marker-bouncing-move, l-smooth-marker-bouncing-move, l-smooth-marker-bouncing-contract, l-smooth-marker-bouncing-contract;
    animation-direction: normal, reverse, normal, reverse;
    animation-duration: var(--duration-jump), var(--duration-jump), var(--duration-contract), var(--duration-contract);
    animation-delay: var(--delays)
}

.bouncing.simple {
    animation-name: l-smooth-marker-bouncing-move, l-smooth-marker-bouncing-move;
    animation-direction: normal, reverse;
    animation-duration: var(--duration-jump), var(--duration-jump);
    animation-delay: var(--delays)
}
`;Ut(zt);var gt=/([\w-]+): ([^;]+);/g,ft=function(){function e(t){r(this,e),t&&Object.assign(this,t)}return h(e,[{key:"findOpacity",value:function(t){this.opacity=(t==null?void 0:t.opacityWhenUnclustered)||(t==null?void 0:t.opacity)||1}},{key:"withStyles",value:function(t){var n=new e(this);return n&&Object.assign(n,t),n}},{key:"toString",value:function(){return Object.entries(this).map(function(t){return"".concat(t[0],": ").concat(t[1],";")}).join(" ")}}],[{key:"parse",value:function(t){for(var n={},a=gt.exec(t);a;)n[a[1]]=a[2],a=gt.exec(t);return delete n["z-index"],delete n.opacity,n.outline="none",new e(n)}},{key:"ofMarker",value:function(t){var n=e.parse(t._icon.style.cssText);return n.findOpacity(t.options),n["z-index"]=t._zIndex,n}}]),e}(),yt="l-smooth-marker-bouncing-",Gt=yt+"move",vt=yt+"contract",Nt=.8;function U(e,t){t.forEach(function(n){return o.DomUtil.removeClass(e,n)}),e.offsetWidth,t.forEach(function(n){return o.DomUtil.addClass(e,n)})}var N=new WeakMap,x=new WeakMap,$=new WeakMap,G=new WeakMap,K=new WeakMap,qt=function(){function e(t,n,a){var p=this;r(this,e),d(this,"marker",void 0),d(this,"position",void 0),d(this,"bouncingOptions",void 0),d(this,"isBouncing",!1),d(this,"iconStyles",void 0),d(this,"shadowStyles",void 0),d(this,"bouncingAnimationPlaying",!1),O(this,N,{writable:!0,value:vt}),O(this,x,{writable:!0,value:["bouncing"]}),O(this,$,{writable:!0,value:void 0}),O(this,G,{writable:!0,value:void 0}),O(this,K,{writable:!0,value:function(f){return p.onAnimationEnd(f)}}),this.marker=t,this.position=n,this.updateBouncingOptions(a)}return h(e,[{key:"updateBouncingOptions",value:function(t){if(this.bouncingOptions=t instanceof P?t:this.bouncingOptions.override(t),this.bouncingOptions.elastic){l(this,N,vt);var n=c(this,x).indexOf("simple");n>-1&&c(this,x).splice(n,1),this.marker._icon&&o.DomUtil.removeClass(this.marker._icon,"simple")}else l(this,N,Gt),c(this,x).push("simple");this.marker._icon&&this.resetStyles(this.marker)}},{key:"onAnimationEnd",value:function(t){var n=this;if(t.animationName===c(this,N)){var a;if(l(this,$,(a=c(this,$),a++,a)),l(this,$,c(this,$)%2),!c(this,$)){var p;this.isBouncing&&(c(this,G)===null||l(this,G,(p=c(this,G),--p)))?(U(this.marker._icon,c(this,x)),this.marker._shadow&&this.bouncingOptions.shadowAngle&&U(this.marker._shadow,c(this,x))):(c(this,x).forEach(function(f){o.DomUtil.removeClass(n.marker._icon,f),n.marker._shadow&&o.DomUtil.removeClass(n.marker._shadow,f)}),this.bouncingAnimationPlaying=!1,this.marker.fire("bounceend"))}}}},{key:"resetStyles",value:function(t){var n,a,p,f,w,A=this;this.marker=t,this.iconStyles=ft.ofMarker(t),t._shadow&&(this.shadowStyles=ft.parse(t._shadow.style.cssText));var B=((n=this.marker.getIcon())===null||n===void 0||(a=n.options)===null||a===void 0?void 0:a.iconSize[1])||((p=this.marker)===null||p===void 0||(f=p._iconObj)===null||f===void 0||(w=f.options)===null||w===void 0?void 0:w.iconSize[1]),z=e.animationParams(this.position,this.bouncingOptions,B);this.iconStyles=this.iconStyles.withStyles(z),this.marker._icon.style.cssText=this.iconStyles.toString(),this.bouncingAnimationPlaying&&(U(this.marker._icon,c(this,x)),this.marker._icon.addEventListener("animationend",c(this,K)));var F=this.bouncingOptions,D=F.bounceHeight,W=F.contractHeight,T=F.shadowAngle;if(this.marker._shadow)if(T){var Q,X,bt=this.position,Yt=bt.x,Rt=bt.y,Jt=Ht(Yt,Rt,T,D+1),wt=v(Jt[D],2),Vt=wt[0],Kt=wt[1],Qt=(Q=this.marker.getIcon())===null||Q===void 0||(X=Q.options)===null||X===void 0?void 0:X.shadowSize[1],Xt=e.contractScale(Qt,W);this.shadowStyles=this.shadowStyles.withStyles(z).withStyles({"--pos-x-jump":"".concat(Vt,"px"),"--pos-y-jump":"".concat(Kt,"px"),"--scale-contract":Xt}),this.marker._shadow.style.cssText=this.shadowStyles.toString(),this.bouncingAnimationPlaying&&U(this.marker._shadow,c(this,x))}else c(this,x).forEach(function(Zt){o.DomUtil.removeClass(A.marker._shadow,Zt)})}},{key:"bounce",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;l(this,G,t),this.isBouncing=!0,!this.bouncingAnimationPlaying&&(l(this,$,0),this.bouncingAnimationPlaying=!0,U(this.marker._icon,c(this,x)),this.marker._shadow&&this.bouncingOptions.shadowAngle&&U(this.marker._shadow,c(this,x)),this.marker._icon.addEventListener("animationend",c(this,K)))}},{key:"stopBouncing",value:function(){this.isBouncing=!1}}],[{key:"animationParams",value:function(t,n,a){var p=t.x,f=t.y,w=n.bounceHeight,A=n.contractHeight,B=n.bounceSpeed,z=n.contractSpeed,F=e.contractScale(a,A),D=e.calculateDuration(w,B),W=e.calculateDuration(A,z),T=[0,D,D*2,D*2+W];return{"--pos-x":"".concat(p,"px"),"--pos-y":"".concat(f,"px"),"--pos-y-jump":"".concat(f-w,"px"),"--pos-y-contract":"".concat(f+A,"px"),"--scale-contract":F,"--duration-jump":"".concat(D,"ms"),"--duration-contract":"".concat(W,"ms"),"--delays":"0ms, ".concat(T[1],"ms, ").concat(T[2],"ms, ").concat(T[3],"ms")}}},{key:"contractScale",value:function(t,n){return(t-n)/t}},{key:"calculateDuration",value:function(t,n){for(var a=Math.round(n*Nt),p=t;--p;)a+=Math.round(n/(t-p));return a}}]),e}();s.default.Marker.include(Wt),s.default.Marker.setBouncingOptions=function(e){o.Marker.prototype._bouncingOptions=e instanceof P?e:new P(e)},s.default.Marker.getBouncingMarkers=function(){o.Marker.prototype._orchestration.getBouncingMarkers()},s.default.Marker.stopAllBouncingMarkers=function(){o.Marker.prototype._orchestration.stopAllBouncingMarkers()},s.default.Marker.addInitHook(function(){if(this.isRealMarker()){var e=new P(o.Marker.prototype._bouncingOptions);this._bouncingMotion=new qt(this,new o.Point(0,0),e)}})}(L);const _t=o=>o.trim(),xt=o=>o&&o.split(" ").map(i=>i[0].toUpperCase()+i.slice(1)).join(" ").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),Z=o=>o.toLowerCase().trim().replaceAll(" ","-"),Mt=o=>o.length<=12?o:`${o.slice(0,12)}..`,tt=o=>new Date(o).toISOString().slice(0,10),et=o=>{const i=new Date(o),s=navigator.language,r={month:"short",day:"numeric",year:"numeric"};return new Intl.DateTimeFormat(s,r).format(i)},Ct=o=>Math.round((o-273.15)*9/5+32),Dt=o=>"\u2B50\uFE0F".repeat(o).concat("\u2606".repeat(5-o)),St=o=>{if(o.length===6)return 1;if(o.length===7)return 2;if(o.length===8)return 3;if(o.length===9)return 4;if(o.length===10)return 5},Lt=(o,i)=>Math.floor(Math.random()*(i-o+1)+o),Ot=document.querySelector(".book-flight-btn__select"),ot=()=>new Promise((o,i)=>{navigator.geolocation.getCurrentPosition(o,i)}),q=async(o,i)=>{var s,r,u,h,d,v,M,_,S;try{const C=await fetch(`https://api.geoapify.com/v1/geocode/reverse?lat=${o}&lon=${i}&format=json&apiKey=528c5dcffdab43848fa6c11bfb7a2545`);if(!C.ok)throw new Error("Problem getting location data");const j=await C.json(),c=(r=(s=j.results[0])==null?void 0:s.country_code)!=null?r:"Unavailable",l=await fetch(`https://restcountries.com/v3.1/alpha/${c}`);if(!l.ok)throw new Error("Problem getting country data");const g=await l.json(),b=c,m=(d=(h=(u=g[0])==null?void 0:u.name)==null?void 0:h.common)!=null?d:"Unavailable",k=(M=(v=j.results[0])==null?void 0:v.city)!=null?M:"Unavailable",O=(S=(_=g[0])==null?void 0:_.flag)!=null?S:"Unavailable";return{countryAbbrev:b,countryName:m,city:k,flag:O,latitude:o,longitude:i}}catch(C){return"Unavailable"}},nt=async(o,i)=>{try{const s=await q(o,i),r="1db6ec5257aa7458bd25e359a7102c19",u=await fetch(`https://api.openweathermap.org/data/3.0/onecall?lat=${s.latitude}&lon=${s.longitude}&appid=${r}`);if(!u.ok)throw new Error("Problem getting location data");const h=await u.json();return h?[`https://openweathermap.org/img/wn/${h.current.weather[0].icon}@2x.png`,`${h.current.weather[0].description}`,`${Ct(h.current.temp)}\xB0`]:void 0}catch(s){return"Unavailable"}},At=async()=>{try{const o=await ot(),{latitude:i,longitude:s}=o.coords,r=(await q(i,s)).countryName,u=await fetch("https://restcountries.com/v3.1/all");if(!u.ok)throw new Error("Problem getting country data");const h=(await u.json()).map(v=>`${v.flag} ${v.name.common}`).sort();let d="<option disabled selected value>book trip</option>";h.forEach(v=>{d+=`<option value="https://www.kiwi.com/en/search/tiles/${Z(r)}/${Z(v.slice(5,v.length).trim().toLowerCase())}">${v}</option>`,Ot.innerHTML=d})}catch(o){return"Unavailable"}},Bt=async()=>{try{const o=await fetch("https://api.unsplash.com/collections/nOMRmitGW64/photos/?per_page=30&client_id=92MhZXBYZ32qrYaz6K9ZS_7x6HjAo7TrqHWgSvFNc4U");if(!o.ok)throw new Error("Problem getting image data");const i=await o.json(),s=Lt(0,29);return i[s].urls.full}catch(o){return"Unavailable"}};(async()=>{try{await At()}catch(o){return`${o.message}`}})();const H=document.querySelector(".form"),it=document.querySelector(".trips"),Y=document.querySelector(".form__input--title"),at=document.querySelector(".form__input--rating"),rt=document.querySelector(".form__input--start-date"),st=document.querySelector(".form__input--end-date"),ct=document.querySelector(".form__input--desc");let y,lt;const It=3;let I=[{id:"coki45#2!",title:"Bottoms Up In Mo'Bay",rating:"\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F",startDate:"Mar 12, 2022",endDate:"June 01, 2022",desc:"Montego Bay has duty-free shopping, vibrant nightlife, & calm waters. I can't wait to return!",coords:[18.47163118420902,-77.92087554931642],countryCode:"JM",countryFlag:"\u{1F1EF}\u{1F1F2}",city:"Montego Bay",cityWeaIconPath:"https://openweathermap.org/img/wn/01d@2x.png",cityWeaDesc:"clear sky",tripImg:"https://images.unsplash.com/photo-1624483275193-33b8acc6e32f?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1674&q=80%20%20https://images.unsplash.com/photo-1592945843838-c69fc7dacb08?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2940&q=80%20https://images.unsplash.com/photo-1626292730004-0b3373283151?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2864&q=80"},{id:"658#@#45#2!",title:"Bon Voyage \u{1F6E9}",rating:"\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2606",startDate:"Oct 23, 2027",endDate:"Dec 14, 2029",desc:"From modern skyscrapers to neon lights, palaces, Seoul is a fascinating mix of old and new.",coords:[37.5326,127.024612],countryCode:"SK",countryFlag:"\u{1F1F0}\u{1F1F7}",city:"Seoul",cityWeaIconPath:"http://openweathermap.org/img/wn/11d@2x.png",cityWeaDesc:"light rain",tripImg:"https://images.unsplash.com/photo-1641463594370-68593b56552c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80"},{id:"thgj79845#2!",title:"Majestic Views",rating:"\u2B50\uFE0F\u2B50\uFE0F\u2B50\uFE0F\u2606\u2606",startDate:"Jan 22, 2023",endDate:"Feb 01, 2023",desc:"Lago di Braies is a beautiful lake surrounded by green mountains \u{1F60D}. I had an amazing time.",coords:[46.694721,12.084444],countryCode:"IT",countryFlag:"\u{1F1EE}\u{1F1F9}",city:"Pragser Wildsee",cityWeaIconPath:"https://openweathermap.org/img/wn/02d@2x.png",cityWeaDesc:"few clouds",tripImg:"https://images.unsplash.com/photo-1536323760109-ca8c07450053?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=930&q=80"}];const ut=o=>{H.classList.remove("hidden"),Y.focus(),lt=o},Pt=()=>{H.reset(),H.style.display="none",H.classList.add("hidden"),setTimeout(()=>H.style.display="grid",1e3)},R=(o,i)=>y.flyTo(o,i),dt=o=>{const i=L.divIcon({className:"tealCircleIcon"});L.marker(o.coords,{icon:i}).on("click",()=>{R(o.coords,13)}).addTo(y).bindPopup(L.popup({maxWidth:300,minWidth:30,autoClose:!1,closeOnClick:!1,className:"trip-popup"})).setPopupContent(`${o.countryFlag}${o.countryCode.toUpperCase()}\xA0\xA0\xA0\u{1F4CD}${o.city}`).openPopup()},pt=o=>{const i=`
        <li class="trip card card-box" data-id='${o.id}'>
                <aside class="card__aside">
                        <figure class="card__figure">
                                <img class="card__image" src='${o.tripImg}' alt="picture of a hand holding a beer outstretched towards a lake" />
                        </figure>
                </aside>
                <header class="card__header card-textbox">
                        <div class="card-textbox__location-box">
                                <div class="card-textbox__country">
                                        <p class="card__flag">${o.countryFlag}</p>
                                        <p class="card__country">${o.countryCode}</p>  
                                        <p class="card__map-marker">\u{1F4CD}</p>
                                        <div class="card__weather-icon-div card__country">${o.city}
                                                <img class="card__weather-icon" src='${o.cityWeaIconPath}'/>
                                        </div>
                                </div>
                                <div>
                                        <ion-icon class="card__drop-down--icon" data-bs-toggle="dropdown" type="div" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" name="ellipsis-horizontal"></ion-icon>
                                        <div class="card__dropdown-menu--styling  dropdown-menu" aria-labelledby="dropdownMenuButton">
                                        <div class="dropdown-item card__dropdown-item--styling editBtn"><ion-icon name="create-outline"></ion-icon>Edit</div>
                                        <div class="dropdown-item card__dropdown-item--styling deleteBtn"><ion-icon name="trash-outline"></ion-icon>Delete</div>
                                </div>
                        </div>
                        </div>
                        <h2 class="card__title">${o.title}</h2>
                        <div class="card__body">
                                <div class = 'card__date-rating-box'>
                                <p class="card__date">${o.startDate} - ${o.endDate}</p>
                                <p  class="card__rating">${o.rating}</p>
                                </div>
                                <p class="card__description">${o.desc}</p>
                        </div>
                </header>
        </li>
`;it.insertAdjacentHTML("beforeend",i)},Et=()=>{const o=JSON.parse(localStorage.getItem("trips"));!o||(I=o,I.forEach(i=>{pt(i),dt(i)}))};await(async()=>{try{const o=await ot(),{latitude:i,longitude:s}=o.coords,r=[i,s],u=L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{maxZoom:18,id:"mapbox/dark-v10",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiYmxhY2tib3gxMSIsImEiOiJjbDF3OGxkYWIwMzcwM2pwOHQwMXQ2OGM0In0.6KQYul7J6Vbh4edRpmgIaA"}),h=L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{maxZoom:18,id:"mapbox/navigation-night-v1",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiYmxhY2tib3gxMSIsImEiOiJjbDF3OGxkYWIwMzcwM2pwOHQwMXQ2OGM0In0.6KQYul7J6Vbh4edRpmgIaA"}),d=L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiYmxhY2tib3gxMSIsImEiOiJjbDF3OGxkYWIwMzcwM2pwOHQwMXQ2OGM0In0.6KQYul7J6Vbh4edRpmgIaA"});y=L.map("map",{zoomControl:!1,center:r,layers:[d,h,u]}).setView(r,It),L.marker(r,{icon:L.icon.pulse({iconUrl:"https://unpkg.com/leaflet@1.9.2/dist/images/marker-icon-2x.png",color:"#D68C45",fillColor:"#D68C45"})}).on("click",()=>R(r,14)).addTo(y).bindPopup(L.popup({maxWidth:300,minWidth:20,autoClose:!0,closeOnClick:!0,className:"search-popup"})).setPopupContent(`
                                \u{1F468}\u{1F3FD}\u200D\u{1F4BB} Hi! I'm Keron, and this is your<br> \xA0\xA0\xA0\xA0\xA0current position.<br><br> \u2699\uFE0F Trips Ahoy! key features are: <br>
                                \u{1F4CC} Find a place by using the search box. <br>
                                \u{1F4CC} Get current weather for place searched. <br>
                                \u{1F4CC} Find places near an area searched. <br>
                                \u{1F4CC} Find a route and directions. <br>
                                \u{1F4CC} Add a trip by clicking on the map. <br>
                                \u{1F4CC} Rate trip <br>
                                \u{1F4CC} Update trip <br>
                                \u{1F4CC} Delete trip <br>
                                \u{1F4CC} Change map style. <br>
                                `).bindTooltip(" Click to learn more about Trips Ahoy!",{direction:"right",interactive:!0}).toggleTooltip(globalThis);const v="AAPKdec506a2a45242168858f4b1bdd8bc83U3L-BFCyxIRNCMccr-A9Ww_dzna7wRD9H-Ap3GNvX8ZF6RBh9hXKqMgBFezUMC7a",M=L.esri.Geocoding.geosearch({position:"topright",placeholder:"Find address or place...",useMapBounds:!1,providers:[L.esri.Geocoding.arcgisOnlineProvider({apikey:v,nearby:{lat:r[0],lng:r[1]}})]}),_=L.layerGroup().addTo(y);M.on("results",async l=>{_.clearLayers();const g=[l.results[0].latlng.lat,l.results[0].latlng.lng],b=await nt(g[0],g[1]);for(let m=l.results.length-1;m>=0;m--){const k={icon:L.icon({iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-yellow.png"})},O={icon:L.divIcon({className:"css-icon",html:'<div class="gps_ring"></div>',iconSize:[18,22]})},P=L.marker(l.results[m].latlng,k).on("click",function(){this.bounce(1),R(g,15)}),E=L.marker(l.results[m].latlng,O),mt=`${Math.round(l.results[m].latlng.lng*1e5)/1e5}, ${Math.round(l.results[m].latlng.lat*1e5)/1e5}`;P.bindPopup(L.popup({autoClose:!1,closeOnClick:!1,className:"search-popup"})).setPopupContent(`<p><strong>${l.results[m].properties.LongLabel}</strong><br>\u2601\uFE0F ${b[2]}<i> ${b[1]}</i></p>`),_.addLayer(E),_.addLayer(P),P.openPopup().bounce(3)._icon.classList.add("hueChangeOrange")}});const S={Street:d,Navigation:h,Dark:u};M.addTo(y),L.control.zoom({position:"bottomright"}).addTo(y),y.addControl(new L.Control.Fullscreen({position:"bottomright"})),L.control.layers(S,null,{position:"bottomright"}).addTo(y),L.Control.PlacesSelect=L.Control.extend({onAdd(l){const g=[["","Find places nearby..."],["Travel and Transport","Travel and Transport"],["Airport","Airport"],["Train station","Train station"],["Hotel","Hotel"],["Food","Food"],["Coffee shop","Coffee shop"],["Shops and Service","Shops and Service"],["Arts and Entertainment","Arts and Entertainment"],["Parks and Outdoors","Parks and Outdoors"],["Gas station","Gas station"],["Hospital","Hospital"],["Nightlife Spot","Nightlife Spot"]],b=L.DomUtil.create("select","");return b.setAttribute("id","optionsSelect"),b.setAttribute("style","padding:16px 0px;text-align:center;max-width: 150px;"),g.forEach(m=>{const k=L.DomUtil.create("option");k.value=m[0],k.innerHTML=m[1],b.appendChild(k)}),b},onRemove(l){}}),L.control.placesSelect=function(l){return new L.Control.PlacesSelect(l)},L.control.placesSelect({position:"topright"}).addTo(y);const C=L.layerGroup().addTo(y),j=function(l){L.esri.Geocoding.geocode({apikey:v}).category(l).nearby(y.getCenter(),10).run((g,b)=>{g||(C.clearLayers(),b.results.forEach(m=>{L.marker(m.latlng,{bounceOnAdd:!0}).on("click",function(){this.bounce(1)}).addTo(C).bindPopup(L.popup({maxWidth:300,minWidth:30,autoClose:!1,closeOnClick:!1,className:"trip-popup"})).setPopupContent(`<strong class='places'>${m.properties.PlaceName}</strong></br>${m.properties.Place_addr}`).openPopup().bounce(3)._icon.classList.add("hueChangeTeal")}))})},c=document.getElementById("optionsSelect");c.addEventListener("change",()=>{c.value!==""&&j(c.value)}),document.querySelector("#optionsSelect option").disabled=!0,c.addEventListener("click",l=>{l.stopPropagation()}),L.Routing.control({position:"topright",show:!1,waypoints:[null],showAlternatives:!0,lineOptions:{styles:[{color:"#319795",opacity:1,weight:3}]},altLineOptions:{styles:[{color:"#D68C45",opacity:.15,weight:9},{color:"white",opacity:0,weight:3},{color:"#D68C45",opacity:1,weight:3}]},createMarker:(l,g)=>l===0?L.marker(g.latLng,{icon:L.icon.pulse({iconUrl:"https://unpkg.com/leaflet@1.9.2/dist/images/marker-icon-2x.png",color:"#319795",fillColor:"#319795"}),draggable:!0,bounceOnAdd:!1,bounceOnAddOptions:{duration:1e3,height:800}}):L.marker(g.latLng,{icon:L.icon({iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",className:"hueChangeTeal"}),draggable:!0,bounceOnAdd:!1,bounceOnAddOptions:{duration:1e3,height:800}}),routeWhileDragging:!0,geocoder:L.Control.Geocoder.nominatim()}).addTo(y),y.on("click",ut),Et()}catch(o){return Promise.reject(o.message)}})();const J=o=>{if(!y)return;const i=o.target.closest(".trip");if(i)return I.find(s=>s.id===i.dataset.id)};(()=>{document.querySelectorAll(".deleteBtn").forEach(o=>{o.addEventListener("click",i=>{const s=J(i);I=I.filter(r=>r.id!==s.id),V(),location.reload()})})})(),(()=>{document.querySelectorAll(".editBtn").forEach(o=>{o.addEventListener("click",i=>{const s=J(i);I=I.filter(d=>d.id!==s.id),V();const{coords:r}=s,u={latlng:{lat:r[0],lng:r[1]}};ut(u),Y.value=s.title,at.value=St(s.rating),rt.value=tt(s.startDate),st.value=tt(s.endDate),ct.value=s.desc;const h={countryCode:s.countryCode,countryFlag:s.countryFlag,cityWeaIconPath:s.cityWeaIconPath,cityWeaDesc:s.cityWeaDesc,tripImg:s.tripImg};console.log(u,h.tripImg),i.key==="Enter"&&ht(h)})})})();const Ft=o=>{const i=J(o);y.flyTo(i.coords,13)},V=()=>localStorage.setItem("trips",JSON.stringify(I)),ht=async o=>{try{o.preventDefault();const i=uuid.v4(),s=_t(Y.value),r=xt(s),u=Dt(at.value),h=et(rt.value),d=et(st.value),v=ct.value,{lat:M,lng:_}=lt.latlng,S=await q(M,_),C=S.countryAbbrev,j=S.flag,c=Mt(S.city),l=await nt(M,_),g=l[0],b=l[1],m=await Bt(),k={id:i,title:r,rating:u,startDate:h,endDate:d,desc:v,coords:[M,_],countryCode:C,countryFlag:j,city:c,cityWeaIconPath:g,cityWeaDesc:b,tripImg:m};I.push(k),dt(k),pt(k),Pt(),V(),location.reload()}catch(i){console.error(i)}};H.addEventListener("submit",ht),document.querySelector(".form__btn").addEventListener("click",o=>{o.stopPropagation()}),it.addEventListener("click",Ft),document.createElement("canvas").getContext("2d",{willReadFrequently:!0}),document.querySelector(".year").textContent=new Date().getFullYear()})();export{te as __tla,kt as __vite_legacy_guard};
